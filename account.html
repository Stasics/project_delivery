<script src="js/script.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', async () => {
    if (!authToken) {
      window.location.href = 'login.html';
      return;
    }

    try {
      // Получаем данные пользователя
      const user = await makeRequest('/api/auth/me', 'GET');
      document.querySelector('#profile input[name="name"]').value = user.name || '';
      
      // Получаем заказы
      const orders = await makeRequest('/api/orders', 'GET');
      const ordersContainer = document.querySelector('#orders');
      orders.forEach(order => {
        ordersContainer.innerHTML += `
          <div class="order-card">
            <h3>Заказ #${order.id}</h3>
            <p>Статус: ${order.status}</p>
          </div>
        `;
      });
    } catch (error) {
      console.error('Ошибка загрузки данных:', error);
    }
  });
</script>
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Личный кабинет | QUICK PARCEL</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="personalCabinet.css" />
</head>
<body>
    <div class="page-wrapper">
    <header>
        <div class="header-content">
            <div class="logo">
                 <b id="reload-logo" onclick="window.location.href='index.html'">QUICK PARCEL</b>
            </div>
            <nav>
                <ul>
                    <li>
                        <button class="login-button" >Выйти</button>
                    </li>
                </ul>
            </nav>
        </div>
    </header>
    <div class="main-account-page">
    <div class="account-container">
        <div class="sidebar">
            <ul class="sidebar-menu">
                <li><a href="#profile" class="active">Профиль</a></li>
                <li><a href="#orders">Мои заказы</a></li>
                <li><a href="#addresses">Мой адрес</a></li>
            </ul>
        </div>

        <div class="main-content">
            <div id="profile" class="tab-content active">
                <h2>Профиль</h2>
                <form>
                    <div class="input-group">
                        <label>Имя</label>
                        <input type="text" value="">
                    </div>
                    <div class="input-group">
                        <label>Email</label>
                        <input type="email" value="">
                    </div>
                    <button class="save-button" type="submit">Сохранить</button>
                </form>
            </div>

            <!-- Заказы -->
            <div id="orders" class="tab-content">
                <h2>История заказов</h2>
                
            </div>
            <!-- Адреса -->
            <div id="addresses" class="tab-content">
                <h2>Мои адреса</h2>
                <div class="address-card">
                    <p></p>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
    <footer>
        <div class="footer-content">
            <p>© 2025 QUICK PARCEL - курьерская компания.</p>
        </div>
    </footer>
    <script>
        // Переключение вкладок
        document.querySelectorAll('.sidebar-menu a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const tabId = this.getAttribute('href').substring(1);
                
                // Убираем активный класс у всех вкладок
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                document.querySelectorAll('.sidebar-menu a').forEach(a => {
                    a.classList.remove('active');
                });
                
                // Активируем текущую вкладку
                document.getElementById(tabId).classList.add('active');
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>